{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport HomePage from '../views/HomePage.vue';\nimport LoginPage from '../views/LoginPage.vue';\nimport Cars from '../views/Cars.vue';\nimport AboutUs from '../views/AboutUs.vue';\nimport RegisterPage from '../views/RegisterPage.vue';\nimport AdminPanel from '../views/AdminPanel.vue';\nconst routes = [{\n  path: '/',\n  redirect: '/home'\n},\n// Пренасочување кон home при отворање на /\n{\n  path: '/home',\n  component: HomePage\n}, {\n  path: '/cars',\n  component: Cars\n}, {\n  path: '/about_us',\n  component: AboutUs\n}, {\n  path: '/login',\n  component: LoginPage\n}, {\n  path: '/register',\n  component: RegisterPage\n}, {\n  path: '/admin',\n  component: AdminPanel,\n  beforeEnter: (to, from, next) => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user && user.role === \"admin\") {\n      next();\n    } else {\n      next('/home'); // Ако не е админ, пренасочување кон home\n    }\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomePage","LoginPage","Cars","AboutUs","RegisterPage","AdminPanel","routes","path","redirect","component","beforeEnter","to","from","next","user","JSON","parse","localStorage","getItem","role","router","history"],"sources":["/Users/isenn11/WebstormProjects/RentProject5/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport HomePage from '../views/HomePage.vue';\nimport LoginPage from '../views/LoginPage.vue';\nimport Cars from '../views/Cars.vue';\nimport AboutUs from '../views/AboutUs.vue';\nimport RegisterPage from '../views/RegisterPage.vue';\nimport AdminPanel from '../views/AdminPanel.vue';\n\nconst routes = [\n    { path: '/', redirect: '/home' }, // Пренасочување кон home при отворање на /\n    { path: '/home', component: HomePage },\n    { path: '/cars', component: Cars },\n    { path: '/about_us', component: AboutUs },\n    { path: '/login', component: LoginPage },\n    { path: '/register', component: RegisterPage },\n    {\n        path: '/admin',\n        component: AdminPanel,\n        beforeEnter: (to, from, next) => {\n            const user = JSON.parse(localStorage.getItem(\"user\"));\n            if (user && user.role === \"admin\") {\n                next();\n            } else {\n                next('/home'); // Ако не е админ, пренасочување кон home\n            }\n        }\n    }\n];\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes\n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,UAAU,MAAM,yBAAyB;AAEhD,MAAMC,MAAM,GAAG,CACX;EAAEC,IAAI,EAAE,GAAG;EAAEC,QAAQ,EAAE;AAAQ,CAAC;AAAE;AAClC;EAAED,IAAI,EAAE,OAAO;EAAEE,SAAS,EAAET;AAAS,CAAC,EACtC;EAAEO,IAAI,EAAE,OAAO;EAAEE,SAAS,EAAEP;AAAK,CAAC,EAClC;EAAEK,IAAI,EAAE,WAAW;EAAEE,SAAS,EAAEN;AAAQ,CAAC,EACzC;EAAEI,IAAI,EAAE,QAAQ;EAAEE,SAAS,EAAER;AAAU,CAAC,EACxC;EAAEM,IAAI,EAAE,WAAW;EAAEE,SAAS,EAAEL;AAAa,CAAC,EAC9C;EACIG,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEJ,UAAU;EACrBK,WAAW,EAAEA,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAC7B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,IAAIJ,IAAI,IAAIA,IAAI,CAACK,IAAI,KAAK,OAAO,EAAE;MAC/BN,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHA,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IACnB;EACJ;AACJ,CAAC,CACJ;AAED,MAAMO,MAAM,GAAGtB,YAAY,CAAC;EACxBuB,OAAO,EAAEtB,gBAAgB,CAAC,CAAC;EAC3BO;AACJ,CAAC,CAAC;AAEF,eAAec,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}